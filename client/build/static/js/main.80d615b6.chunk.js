(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t){},120:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(25),c=n.n(a),s=n(124),u=(n(68),n(11)),i=n(12),l=n(17),p=n(14),h=n(13),m=n(6),f=n(15);var d=n(3),v=n.n(d),j=n(7),g=n(8),b=n.n(g);function y(e){return{type:L,project:e}}var E=function(){return function(){var e=Object(j.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/api/projects");case 3:n=e.sent,r=n.data,t({type:_,projects:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};var w=n(60),O=n(61),k=n(62),P=n.n(k)()(window.location.origin);P.on("connect",(function(){console.log("Connected!")}));var S=P,C=n(5),x=Object(C.a)(),T={},M=function(e){return{type:"GET_USER",user:e}},N="UPDATE_NAME",L="SET_PROJECT",_="GET_ALL_PROJECTS";S.on("select-project",(function(){A.dispatch(E())}));var B=Object(f.c)({name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"student",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.name;default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return t.project;case _:return t.projects;default:return e}}}),U=Object(f.a)(w.a,Object(O.createLogger)({collapsed:!0})),A=Object(f.d)(B,U),H=A;Object(m.b)((function(e){var t;return{name:"login",error:null===(t=e.user)||void 0===t?void 0:t.error,closePopup:!0}}),(function(e){return{handleSubmit:function(t){t.preventDefault();var n=t.target.name,r=t.target.email.value,o=t.target.password.value;e(function(e,t,n){return function(){var r=Object(j.a)(v.a.mark((function r(o){var a;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.post("/auth/".concat(n),{email:e,password:t});case 3:a=r.sent,r.next=9;break;case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",o(M({error:r.t0})));case 9:try{o(M(a.data)),x.push("/home")}catch(c){console.error(c)}case 10:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()}(r,o,n))}}}))((function(e){var t=e.error;return o.a.createElement("form",null,o.a.createElement("div",null,o.a.createElement("button",null,o.a.createElement("a",{href:"/auth/google"},"Log in with Google")),t&&t.response&&o.a.createElement("div",null," ",t.response.data," ")))}));var I=Object(m.b)(null,(function(e){return{handleChange:function(t){e(function(e){var t={type:N,name:e};return sessionStorage.setItem("name",e),t}(t.target.value))}}}))((function(e){return o.a.createElement("div",{align:"center"},o.a.createElement("h3",null,"Black History Month Project"),o.a.createElement("p",null,"Instructions: Choose one person to research in honor of black history month."),o.a.createElement("p",null,"First come first serve."),o.a.createElement("p",null,"Try to choose someone you know, since you will be researching, creating, and presenting a project on this person."),o.a.createElement("p",null,"If you aren't here, Ms. L will choose for you."),o.a.createElement("button",{onClick:e.closePopup},"OK!"))})),J=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popup_inner"},o.a.createElement(I,{closePopup:this.props.closePopup})))}}]),n}(o.a.Component),D=(n(120),function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.numStudents,r=t.name,a=t.id,c=t.users,s=[],u=0;u<3;u++){var i=Math.floor(256*Math.random());s.push(i)}return o.a.createElement("div",{className:"project-swatch",style:{backgroundColor:n?"black":"rgb(".concat(s,")")},onClick:this.props.isSelected?null:function(){return e.props.selectProject(a,n,r)}},o.a.createElement("h2",null,r),o.a.createElement("div",{className:"group"},1===n?c.map((function(e,t){return o.a.createElement("p",{key:t},e.name)})):null))}}]),n}(r.Component)),G=null,R=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).state={isSelected:!1,showPopup:!0},e.togglePopup=e.togglePopup.bind(Object(l.a)(e)),e.handleSelect=e.handleSelect.bind(Object(l.a)(e)),e}return Object(i.a)(n,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"handleSelect",value:function(e,t,n){t<1?(this.props.chooseProject({id:e,name:"test"}),S.emit("select-project",{name:"test",project:n,numStudents:t}),alert("You chose well! Your topic for Black History Month is: ".concat(n)),this.setState({isSelected:!0})):alert("The group is now full! Choose another!")}},{key:"componentDidMount",value:function(){var e=this;this.props.getProjects(),S.on("select-project",(function(t){t.numStudents<1&&(G=setTimeout((function(){return e.props.getProjects()}),3e3)),console.log("".concat(t.project," was chosen by ").concat(t.name))}))}},{key:"componentWillUnmount",value:function(){clearTimeout(G)}},{key:"render",value:function(){var e=this;return console.log(this.props.getUser()),o.a.createElement(o.a.Fragment,null,this.state.showPopup?o.a.createElement(J,{closePopup:this.togglePopup}):o.a.createElement("h1",null,"Hi, ","test","! Choose your BHM topic!"),o.a.createElement("div",{className:"App"},this.props.projects.length?this.props.projects.map((function(t){return o.a.createElement(D,{key:t.id,id:t.id,student:e.state.name,users:t.users,name:t.name,numStudents:t.numStudents,isSelected:e.state.isSelected,selectProject:e.handleSelect})})):"Loading Project Name"))}}]),n}(r.Component),W=Object(m.b)((function(e){return{name:e.name,projects:e.project}}),(function(e){return{getUser:function(){return e(function(){var e=Object(j.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/auth/me");case 3:n=e.sent,t(M(n.data||T)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},getProjects:function(){return e(E())},chooseProject:function(t){return e(function(e){return function(){var t=Object(j.a)(v.a.mark((function t(n){var r,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("/api/projects/select",e);case 2:r=t.sent,o=r.data,n(y(o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(R);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(m.a,{store:H},o.a.createElement(s.a,{history:x},o.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,n){e.exports=n(122)},68:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.80d615b6.chunk.js.map