(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t){},113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(17),c=n.n(r),s=(n(59),n(4)),u=n(5),i=n(10),l=n(8),p=n(7),m=n(6),h=n(9);var d=n(11),f=n.n(d),g=n(26),j=n(27),v=n.n(j);function b(e){return{type:C,project:e}}var y=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/projects");case 3:n=e.sent,a=n.data,t({type:I,projects:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};var E=n(51),k=n(52),O=n(53),S=n.n(O)()(window.location.origin);S.on("connect",(function(){console.log("Connected!")}));var w=S,P="UPDATE_NAME",C="SET_PROJECT",I="GET_ALL_PROJECTS";w.on("select-project",(function(){M.dispatch(y())}));var N=Object(h.c)({name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"student",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return t.name;default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return t.project;case I:return t.projects;default:return e}}}),T=Object(h.a)(E.a,Object(k.createLogger)({collapsed:!0})),M=Object(h.d)(N,T),x=M;var L=Object(m.b)(null,(function(e){return{handleChange:function(t){e(function(e){var t={type:P,name:e};return sessionStorage.setItem("name",e),t}(t.target.value))}}}))((function(e){var t=e.handleChange,n=sessionStorage.getItem("name");return o.a.createElement("form",{className:"form-inline",align:"center"},o.a.createElement("label",{htmlFor:"name"},"Enter your first and last name: "),o.a.createElement("input",{type:"text",name:"name",placeholder:"First and Last Name",value:n,readOnly:n,className:"form-control",onChange:n?null:t}),o.a.createElement("h3",null,"Black History Month Project"),o.a.createElement("p",null,"Instructions: Choose one person to research in honor of black history month."),o.a.createElement("p",null,"First come first serve."),o.a.createElement("p",null,"Try to choose someone you know, since you will be researching, creating, and presenting a project on this person."),o.a.createElement("p",null,"If you aren't here, Ms. L will choose for you."),o.a.createElement("button",{onClick:e.closePopup},"OK!"))})),B=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"popup"},o.a.createElement("div",{className:"popup_inner"},o.a.createElement(L,{closePopup:this.props.closePopup})))}}]),n}(o.a.Component),_=(n(113),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.numStudents,a=t.name,r=t.id,c=t.users,s=[],u=0;u<3;u++){var i=Math.floor(256*Math.random());i-s[u]<10&&(i+=20),s.push(i)}return o.a.createElement("div",{className:"project-swatch",style:{backgroundColor:n?"black":"rgb(".concat(s,")")},onClick:this.props.isSelected?null:function(){return e.props.selectProject(r,n,a)}},o.a.createElement("h2",null,a),o.a.createElement("div",{className:"group"},1===n?c.map((function(e,t){return o.a.createElement("p",{key:t},e.name)})):null))}}]),n}(a.Component)),A=null,F=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={isSelected:!1,showPopup:!0,name:"student"},e.togglePopup=e.togglePopup.bind(Object(i.a)(e)),e.handleSelect=e.handleSelect.bind(Object(i.a)(e)),e}return Object(u.a)(n,[{key:"togglePopup",value:function(){this.setState({showPopup:!sessionStorage.getItem("name")||sessionStorage.getItem("name").length<5})}},{key:"handleSelect",value:function(e,t,n){this.props.projects.find((function(e){return e.users[0]&&e.users[0].name===sessionStorage.getItem("name")}))?alert("You already chose a project"):t<1?(this.props.chooseProject({id:e,name:this.state.name}),w.emit("select-project",{name:this.state.name,project:n,numStudents:t}),alert("You chose well! Your topic for Black History Month is: ".concat(n)),this.setState({isSelected:!0})):alert("The project is already taken! Choose another!")}},{key:"componentDidUpdate",value:function(e,t){t.name!==sessionStorage.getItem("name")&&this.setState({name:sessionStorage.getItem("name")})}},{key:"componentDidMount",value:function(){var e=this;this.props.getProjects(),w.on("select-project",(function(t){t.numStudents<1&&(A=setTimeout((function(){return e.props.getProjects()}),1e3)),console.log("".concat(t.project," was chosen by ").concat(t.name))}))}},{key:"componentWillUnmount",value:function(){clearTimeout(A)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.state.showPopup?o.a.createElement(B,{closePopup:this.togglePopup}):o.a.createElement("h1",null,"Hi, ",this.state.name,"! Choose your BHM topic"),o.a.createElement("div",{className:"App"},this.props.projects.length?this.props.projects.map((function(t){return o.a.createElement(_,{key:t.id,id:t.id,student:e.state.name,users:t.users,name:t.name,numStudents:t.numStudents,isSelected:e.state.isSelected,selectProject:e.handleSelect})})):"Loading Project Name"))}}]),n}(a.Component),H=Object(m.b)((function(e){return{name:e.name,projects:e.project}}),(function(e){return{getProjects:function(){return e(y())},chooseProject:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){var a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("/api/projects/select",e);case 2:a=t.sent,o=a.data,n(b(o));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(m.a,{store:x},o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},54:function(e,t,n){e.exports=n(114)},59:function(e,t,n){}},[[54,1,2]]]);
//# sourceMappingURL=main.b8868509.chunk.js.map